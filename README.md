# Kustom-Color-selection
Kustom的完整取色列.
KLWP取色优化处理————碳酸铷

全局变量

c_m 列表 取色模式
muted,vibrant,dominant,dmuted,dvibrant,lmuted,lvibrant

c_l 文本 颜色组合
0～1～2～3～4～5～6

c_y 文本 取色，混合补充
$if(tc(len,bp(gv(c_m,tc(split,gv(c_l),～,0)), gv(p_s)))=0,ce(bp(gv(c_m,tc(split,gv(c_l),～,6)), gv(p_s)), bp(gv(c_m,tc(split,gv(c_l),～,1)), gv(p_s)), 50),bp(gv(c_m,tc(split,gv(c_l),～,0)), gv(p_s)))$￥$if(tc(len,bp(gv(c_m,tc(split,gv(c_l),～,1)), gv(p_s)))=0,ce(bp(gv(c_m,tc(split,gv(c_l),～,0)), gv(p_s)), bp(gv(c_m,tc(split,gv(c_l),～,2)), gv(p_s)), 50),bp(gv(c_m,tc(split,gv(c_l),～,1)), gv(p_s)))$￥$if(tc(len,bp(gv(c_m,tc(split,gv(c_l),～,2)), gv(p_s)))=0,ce(bp(gv(c_m,tc(split,gv(c_l),～,1)), gv(p_s)), bp(gv(c_m,tc(split,gv(c_l),～,3)), gv(p_s)), 50),bp(gv(c_m,tc(split,gv(c_l),～,2)), gv(p_s)))$￥$if(tc(len,bp(gv(c_m,tc(split,gv(c_l),～,3)), gv(p_s)))=0,ce(bp(gv(c_m,tc(split,gv(c_l),～,2)), gv(p_s)), bp(gv(c_m,tc(split,gv(c_l),～,4)), gv(p_s)), 50),bp(gv(c_m,tc(split,gv(c_l),～,3)), gv(p_s)))$￥$if(tc(len,bp(gv(c_m,tc(split,gv(c_l),～,4)), gv(p_s)))=0,ce(bp(gv(c_m,tc(split,gv(c_l),～,3)), gv(p_s)), bp(gv(c_m,tc(split,gv(c_l),～,5)), gv(p_s)), 50),bp(gv(c_m,tc(split,gv(c_l),～,4)), gv(p_s)))$￥$if(tc(len,bp(gv(c_m,tc(split,gv(c_l),～,5)), gv(p_s)))=0,ce(bp(gv(c_m,tc(split,gv(c_l),～,4)), gv(p_s)), bp(gv(c_m,tc(split,gv(c_l),～,6)), gv(p_s)), 50),bp(gv(c_m,tc(split,gv(c_l),～,5)), gv(p_s)))$￥$if(tc(len,bp(gv(c_m,tc(split,gv(c_l),～,6)), gv(p_s)))=0,ce(bp(gv(c_m,tc(split,gv(c_l),～,5)), gv(p_s)), bp(gv(c_m,tc(split,gv(c_l),～,0)), gv(p_s)), 50),bp(gv(c_m,tc(split,gv(c_l),～,6)), gv(p_s)))$

c_s 文本 分解RGB，最大，最小
$fl(0, 6, i + 1, mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),3,2))+～+mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),5,2))+～+mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),7,2))+～+mu(max,mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),3,2)),mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),5,2)),mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),7,2)))+～+mu(min,mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),3,2)),mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),5,2)),mu(h2d, tc(cut,tc(split,gv(c_y),￥,i),7,2))), ￥)$

c_x 文本 计算亮度，饱和度
$tc(split,tc(split,gv(c_s),￥,0),～,3)/2.55$～$(tc(split,tc(split,gv(c_s),￥,0),～,3)-tc(split,tc(split,gv(c_s),￥,0),～,4))/tc(split,tc(split,gv(c_s),￥,0),～,3)*100$￥$tc(split,tc(split,gv(c_s),￥,1),～,3)/2.55$～$(tc(split,tc(split,gv(c_s),￥,1),～,3)-tc(split,tc(split,gv(c_s),￥,1),～,4))/tc(split,tc(split,gv(c_s),￥,1),～,3)*100$￥$tc(split,tc(split,gv(c_s),￥,2),～,3)/2.55$～$(tc(split,tc(split,gv(c_s),￥,2),～,3)-tc(split,tc(split,gv(c_s),￥,2),～,4))/tc(split,tc(split,gv(c_s),￥,2),～,3)*100$￥$tc(split,tc(split,gv(c_s),￥,3),～,3)/2.55$～$(tc(split,tc(split,gv(c_s),￥,3),～,3)-tc(split,tc(split,gv(c_s),￥,3),～,4))/tc(split,tc(split,gv(c_s),￥,3),～,3)*100$￥$tc(split,tc(split,gv(c_s),￥,4),～,3)/2.55$～$(tc(split,tc(split,gv(c_s),￥,4),～,3)-tc(split,tc(split,gv(c_s),￥,4),～,4))/tc(split,tc(split,gv(c_s),￥,4),～,3)*100$￥$tc(split,tc(split,gv(c_s),￥,5),～,3)/2.55$～$(tc(split,tc(split,gv(c_s),￥,5),～,3)-tc(split,tc(split,gv(c_s),￥,5),～,4))/tc(split,tc(split,gv(c_s),￥,5),～,3)*100$￥$tc(split,tc(split,gv(c_s),￥,6),～,3)/2.55$～$(tc(split,tc(split,gv(c_s),￥,6),～,3)-tc(split,tc(split,gv(c_s),￥,6),～,4))/tc(split,tc(split,gv(c_s),￥,6),～,3)*100$￥

c_n 列表 调整，输出
$ce(ce(cm(255,tc(split,tc(split,gv(c_s),￥,0),～,0)+if(tc(split,tc(split,gv(c_x),￥,0),～,0)-tc(split,tc(split,gv(c_s),￥,0),～,0)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,0),～,1))),tc(split,tc(split,gv(c_s),￥,0),～,1)+if(tc(split,tc(split,gv(c_x),￥,0),～,0)-tc(split,tc(split,gv(c_s),￥,0),～,1)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,0),～,1))),tc(split,tc(split,gv(c_s),￥,0),～,2)+if(tc(split,tc(split,gv(c_x),￥,0),～,0)-tc(split,tc(split,gv(c_s),￥,0),～,2)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,0),～,1)))),lum,a+mu(max,0,50-tc(split,tc(split,gv(c_x),￥,0),～,0))),lum,r+mu(max,0,tc(split,tc(split,gv(c_x),￥,0),～,0)-90))$,$ce(ce(cm(255,tc(split,tc(split,gv(c_s),￥,1),～,0)+if(tc(split,tc(split,gv(c_x),￥,1),～,0)-tc(split,tc(split,gv(c_s),￥,1),～,0)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,1),～,1))),tc(split,tc(split,gv(c_s),￥,1),～,1)+if(tc(split,tc(split,gv(c_x),￥,1),～,0)-tc(split,tc(split,gv(c_s),￥,1),～,1)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,1),～,1))),tc(split,tc(split,gv(c_s),￥,1),～,2)+if(tc(split,tc(split,gv(c_x),￥,1),～,0)-tc(split,tc(split,gv(c_s),￥,1),～,2)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,1),～,1)))),lum,a+mu(max,0,50-tc(split,tc(split,gv(c_x),￥,1),～,0))),lum,r+mu(max,0,tc(split,tc(split,gv(c_x),￥,1),～,0)-90))$,$ce(ce(cm(255,tc(split,tc(split,gv(c_s),￥,2),～,0)+if(tc(split,tc(split,gv(c_x),￥,2),～,0)-tc(split,tc(split,gv(c_s),￥,2),～,0)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,2),～,1))),tc(split,tc(split,gv(c_s),￥,2),～,1)+if(tc(split,tc(split,gv(c_x),￥,2),～,0)-tc(split,tc(split,gv(c_s),￥,2),～,1)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,2),～,1))),tc(split,tc(split,gv(c_s),￥,2),～,2)+if(tc(split,tc(split,gv(c_x),￥,2),～,0)-tc(split,tc(split,gv(c_s),￥,2),～,2)/2.55>1,0,mu(max,0,50.0-tc(split,tc(split,gv(c_x),￥,2),～,1)))),lum,a+mu(max,0,50-tc(split,tc(split,gv(c_x),￥,2),～,0))),lum,r+mu(max,
